{"slots":{"0":{"name":"Screen","type":{"events":[],"methods":[]}},"1":{"name":"slot2","type":{"events":[],"methods":[]}},"2":{"name":"slot3","type":{"events":[],"methods":[]}},"3":{"name":"slot4","type":{"events":[],"methods":[]}},"4":{"name":"slot5","type":{"events":[],"methods":[]}},"5":{"name":"slot6","type":{"events":[],"methods":[]}},"6":{"name":"slot7","type":{"events":[],"methods":[]}},"7":{"name":"slot8","type":{"events":[],"methods":[]}},"8":{"name":"slot9","type":{"events":[],"methods":[]}},"9":{"name":"slot10","type":{"events":[],"methods":[]}},"-1":{"name":"unit","type":{"events":[],"methods":[]}},"-2":{"name":"system","type":{"events":[],"methods":[]}},"-3":{"name":"library","type":{"events":[],"methods":[]}}},"handlers":[{"code":"Screen.clear()","filter":{"args":[],"signature":"stop()","slotKey":"-2"},"key":"0"},{"code":"function getStatusName(status)\n    local fontYellow = \"<font color=yellow>\"\n    local fontRed = \"<font color=red>\"\n    local fontGreen = \"<font color=green>\"\n    if status == \"PENDING\" then return fontYellow..\"En attente</font>\"\n    elseif status == \"STOPPED\" then return fontRed..\"Arrêt</font>\"\n    elseif status == \"RUNNING\" then return fontGreen..\"En Service</font>\"\n    elseif status == \"JAMMED_MISSING_INGREDIENT\" then return fontRed..\"Ingrédient manquant</font>\"\n    elseif status == \"JAMMED_OUTPUT_FULL\" then return fontRed..\"Sortie pleine</font>\"\n    elseif status == \"JAMMED_NO_OUTPUT_CONTAINER\" then return fontRed..\"Pas de conteneur de sortie</font>\"\n    end\nend\n\nlocal M1Name = \"Silumine\" --export\nlocal M2Name = \"Alliage AL-FE\" --export\nlocal M3Name = \"Acier\" --export\nlocal M4Name = \"Dispo\" --export\nlocal M5Name = \"Machine 5\" --export\nlocal M6Name = \"Machine 6\" --export\nlocal M7Name = \"Machine 7\" --export\nlocal M8Name = \"Machine 8\" --export\nlocal M9Name = \"Machine 9\" --export\nlocal fontSize = 4 --export\n\nlocal slotsName = { M1Name, M2Name, M3Name, M4Name, M5Name, M6Name, M7Name, M8Name, M9Name }\nlocal slots = { slot2, slot3, slot4, slot5, slot6, slot7, slot8, slot9, slot10 }\n\nlocal style = \"<style>th { font-size: \"..fontSize..\"em; text-align: left; vertical-align: middle; border-bottom: 3px solid #ddd; }</style>\"\nlocal html = style..\"<table width=100%>\"\n\nfor i = 1,9\ndo\n    if slots[i] then\n        html = html..\"<tr><th>\"..slotsName[i]..\"</th><th>\"..getStatusName(slots[i].getStatus())..\"</th></tr>\"\n        end\n    end\n\nhtml = html..\"</table>\"\n\nScreen.setHTML(html)\n\n","filter":{"args":[],"signature":"update()","slotKey":"-2"},"key":"1"}],"methods":[],"events":[]}
